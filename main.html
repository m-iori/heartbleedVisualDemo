<!DOCTYPE>
<html>
  <head>
    <title>HeartBleed Demo</title>
    <style>
      #left, #right {
        width: 50%;
        height: 100%;
      }
      #left {
        background-color: #ffeeee;
        float: left;
      }
      #right {
        background-color: #00bbbb;
        float: right;
      }
      textarea {
        width: 70%;
        height: 10%;
      }
    </style>
    <script>
      function printResponse(server){
        if(server === "vulnerable"){
           document.getElementById("v_msg").value.replace("<", "");
           document.getElementById("v_msg").value.replace(">", "");
           len = parseInt(document.getElementById("v_length"));
           vulnData = "Hi! You are logged in. Also, here are user passwords... credit card numbers... social security numbers... phone numbers... addresses... employee data... health records... and so on and so forth... until there's no data left in my memory to show you.";
           document.getElementById(server).innerHTML = vulnData.substring(0, len);
        }
        else{
           document.getElementById("p_msg").value.replace("<", "");
           document.getElementById("p_msg").value.replace(">", "");
           document.getElementById(server).innerHTML = "Hi! You are logged in."
        }
      }
    </script>
  </head>
  <body>
    <div id="left">
      <h2>Vulnerable Server</h2>
      <p>HeartBleed is a dangerous vulnerability still affecting Web servers that use outdated versions of OpenSSL today.</p>
      Message: <input id="v_msg" type="text"></input>
      Message Length: <input id="v_length" type="number"></input>
      <button onclick="printResponse('vulnerable')">Send Request</button>
      <textarea id="vulnerable" readonly></textarea>
    </div>
    <div id="right">
      <h2>Patched Server</h2>
      <p>Once the server updates to the latest version of OpenSSL, the boundary of data is enforced.</p>
      Message: <input id="p_msg" type="text"></input>
      Message Length: <input id="p_length" type="number"></input>
      <button onclick="printResponse('patched')">Send Request</button>
      <textarea id="patched" readonly></textarea>
    </div>
    <div style="clear:both"></div>
  </body>
</html>
